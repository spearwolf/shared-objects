<!DOCTYPE html>
<html>
  <head>
    <title>shared objects with socket.io</title>
    <script src="http://spearwolf.no.de/socket.io/socket.io.js"></script> 
    <script src="jquery-1.4.4.min.js"></script> 
    <script> 
      var socket = new io.Socket("spearwolf.no.de", { port: 80 }); 
      socket.connect();
      socket.on('connect', function() { console.info("connect", arguments); }) 
      socket.on('message', function(data) {
        var msg = JSON.parse(data);
        if ("exception" in msg) {
          console.error(msg.exception.description, msg.exception.exception);
        } else {
          console.info("message", msg);
        }
      }) 
      socket.on('disconnect', function() { console.info("disconnect", arguments); }) 

      jQuery(function($) {
        $("#send-message").click(function() {
            socket.send($("#message").val());
        });
      });
    </script> 
  </head>
  <body>
    <h3>It works!</h3>
    <p>
      please look into your javascript console
    </p>
    <p>
      <label for="message">json:</label>
      <input id="message" name="message" type="text"/>
      <button id="send-message">send</button>
    </p>
  </body>
</html>
